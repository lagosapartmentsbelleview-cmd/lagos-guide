<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>Gest√£o de Reservas</title>

    <!-- CSS GLOBAL --> 
    <link rel="stylesheet" href="css/global.css">

    <style>

/* ========================================================= */
/*                     VARI√ÅVEIS DE COR                      */
/* ========================================================= */
:root {
    --cor-verde: #2e7d32;
    --cor-verde-escuro: #1b5e20;
    --cor-vermelho: #c62828;
    --cor-vermelho-escuro: #8e0000;
    --cor-azul: #0277bd;
    --cor-azul-escuro: #015a8c;
    --cor-amarelo: #f9a825;
    --cor-cinza: #757575;
    --cor-fundo: #f5f5f5;
    --cor-texto: #333;
}

/* ========================================================= */
/*            MODAL DESAPARECIDAS (PERSONALIZADO)            */
/* ========================================================= */

#modalDesaparecidas .modal-body p {
    margin: 6px 0;
    font-size: 14px;
}


/* ========================================================= */
/*                        LAYOUT GERAL                       */
/* ========================================================= */
body {
    font-family: Arial, sans-serif;
    margin: 20px;
    background: var(--cor-fundo);
}

h1 {
    text-align: center;
    margin-bottom: 20px;
}

/* ========================================================= */
/*                     BARRA DE A√á√ïES                        */
/* ========================================================= */
#acoes {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 12px;
    margin-bottom: 25px;
}

#acoes button {
    padding: 12px 22px;
    border-radius: 8px;
    border: none;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: 0.2s ease;
    color: white;
}

#acoes button:hover {
    background: #125a9c;
    transform: translateY(-2px);
}

/* Cores individuais */
#btnNovaReserva { background: var(--cor-verde); }
#btnImportarExcel { background: #6a1b9a; }
#btnApagarSelecionadas { background: var(--cor-vermelho); }
#btnEnviarCalendario { background: var(--cor-azul); }
#btnIrCalendario { background: #00897b; }
#btnLimparFantasmas { background: var(--cor-amarelo); color: black; }
#btnLogout { background: #424242; }
#btnMarcarPagas { background: var(--cor-verde); }


/* ========================================================= */
/*                           FILTROS                         */
/* ========================================================= */
.filtros-container {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 15px;
    background: #f8f8f8;
    padding: 10px;
    border-radius: 6px;
    border: 1px solid #ddd;
}

.filtro-input,
.filtro-select,
.filtro-num,
.filtro-date {
    padding: 6px 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 13px;
}


/* ========================================================= */
/*                           TABELA                          */
/* ========================================================= */
table {
    width: 100%;
    border-collapse: collapse;
    background: white;
}

th, td {
    border: 1px solid #ccc;
    padding: 8px;
    font-size: 14px;
    text-align: center;
}

th {
    background: #eaeaea;
    font-weight: bold;
}

.pago-total {
    background-color: #c8f7c5 !important;
}

.pago-parcial {
    background-color: #fff3b0 !important;
}


/* ========================================================= */
/*                     BADGES DE ORIGEM                      */
/* ========================================================= */
.origem-badge {
    display: inline-block;
    padding: 4px 8px;
    border-radius: 6px;
    color: white;
    font-size: 12px;
    font-weight: 600;
}

.origem-booking { background: #1E88E5; }
.origem-airbnb { background: #EC407A; }
.origem-vrbo { background: #8E24AA; }
.origem-particular { background: var(--cor-verde); }
.origem-outro { background: var(--cor-cinza); }
.origem-expedia { background: #F57C00; }
.origem-agoda { background: #009688; }
.origem-hotels { background: #D32F2F; }
.origem-trip { background: #0277BD; }
.origem-manual { background: var(--cor-cinza); }

/* ========================================================= */
/*                     MODAL MODERNO                         */
/* ========================================================= */

.modal {
    display: none;          /* escondido por padr√£o */
    position: fixed;
    top: 0; 
    left: 0;
    width: 100%; 
    height: 100%;
    background: rgba(0,0,0,0.45);
    backdrop-filter: blur(3px);
    justify-content: center;
    align-items: center;
    z-index: 9999;
}

.modal-content {
    background: #fff;
    width: 700px;          /* AUMENTADO */
    max-width: 95%;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 10px 35px rgba(0,0,0,0.25);
    animation: fadeIn 0.25s ease-out;
    max-height: 90vh;
    overflow-y: auto;
    scroll-behavior: smooth;

}

.modal-header {
    background: var(--cor-azul);
    color: white;
    padding: 14px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.modal-header h2 {
    margin: 0;
    font-size: 20px;
}

.modal-close {
    background: transparent;
    border: none;
    color: white;
    font-size: 20px;
    cursor: pointer;
}

.modal-body {
    padding: 20px;
    font-size: 15px;
    display: grid;
    grid-template-columns: 1fr 1fr; /* DUAS COLUNAS */
    gap: 16px 20px;                 /* espa√ßamento entre campos */
}

.modal-body label {
    grid-column: span 2;            /* label ocupa as duas colunas */
    font-weight: bold;
    margin-top: 6px;
}

.modal-body input,
.modal-body select {
    width: 100%;
    padding: 10px;
    border-radius: 6px;
    border: 1px solid #ccc;
    font-size: 14px;
    box-sizing: border-box;
}

.modal-section-title {
    grid-column: span 2;            /* ocupa as duas colunas */
    font-size: 16px;
    font-weight: bold;
    margin-top: 10px;
    padding-bottom: 4px;
    border-bottom: 2px solid #e0e0e0;
}

.modal-footer {
    padding: 14px 20px;
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    background: #f5f5f5;
}

.btnPrimario {
    background: var(--cor-verde);
    color: white;
    border: none;
    padding: 10px 18px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
}

.btnPrimario:hover {
    background: var(--cor-verde-escuro);
}

.btnSecundario {
    background: #ddd;
    color: #333;
    border: none;
    padding: 10px 18px;
    border-radius: 6px;
    cursor: pointer;
}

.btnSecundario:hover {
    background: #ccc;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to   { opacity: 1; transform: translateY(0); }
}

/* ========================================================= */
/*                     ORDENAR COLUNAS                       */
/* ========================================================= */
th[data-col] {
    cursor: pointer;
    position: relative;
}

th[data-col].ordenar-asc::after,
th[data-col].ordenar-desc::after {
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 14px;
    color: #000;
    z-index: 9999;
    pointer-events: none;
}

th[data-col].ordenar-asc::after { content: "‚ñ≤"; }
th[data-col].ordenar-desc::after { content: "‚ñº"; }

/* ========================================================= */
/*                           TOOLTIP                         */
/* ========================================================= */
.pessoas {
    position: relative;
    cursor: help;
}

.pessoas:hover::after {
    content: attr(data-tooltip);
    position: absolute;
    top: 100%;
    left: 0;
    background: var(--cor-texto);
    color: white;
    padding: 6px 10px;
    border-radius: 6px;
    white-space: pre-line;
    z-index: 999999;
    font-size: 12px;
    width: max-content;
    max-width: 260px;
}

/* Permitir tooltip fora da c√©lula */
#tabelaReservas td,
#tabelaReservas th,
#tabelaReservas tr {
    overflow: visible !important;
    position: relative !important;
}

/* Permitir tooltip fora da tabela */
#tabelaReservas {
    overflow: visible !important;
    position: relative !important;
    z-index: 1;
}

/* ========================================================= */
/*                     BOT√ïES DA TABELA                      */
/* ========================================================= */
td button {
    margin: 2px;
    padding: 6px 10px;
    border: none;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
}

/* Detalhe */
.btnDetalhe {
    background: var(--cor-azul);
    color: white;
}
.btnDetalhe:hover {
    background: var(--cor-azul-escuro);
}

/* Editar */
.btnEditar {
    background: var(--cor-verde) !important;
    color: white !important;
}
.btnEditar:hover {
    background: var(--cor-verde-escuro) !important;
}

/* Apagar */
.btnApagar {
    background: var(--cor-vermelho);
    color: white;
}
.btnApagar:hover {
    background: var(--cor-vermelho-escuro);
}

/* ========================================================= */
/*                COLUNA A√á√ïES ‚Äî BOT√ïES √çCONES               */
/* ========================================================= */

/* For√ßa os bot√µes a ficarem lado a lado */
#tabelaReservas td:last-child {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 6px;              /* espa√ßo entre bot√µes */
    white-space: nowrap;   /* impede quebra de linha */
}

/* Estilo base dos bot√µes */
#tabelaReservas td:last-child button {
    padding: 4px 8px;
    font-size: 16px;       /* tamanho ideal para emojis */
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
}

/* Detalhe */
.btnDetalhe {
    background: var(--cor-azul);
    color: white;
}
.btnDetalhe:hover {
    background: var(--cor-azul-escuro);
}

/* Editar */
.btnEditar {
    background: var(--cor-verde);
    color: white;
}
.btnEditar:hover {
    background: var(--cor-verde-escuro);
}

/* Apagar */
.btnApagar {
    background: var(--cor-vermelho);
    color: white;
}
.btnApagar:hover {
    background: var(--cor-vermelho-escuro);
}

.flag {
    width: 20px;
    height: 15px;
    margin-right: 6px;
    border-radius: 2px;
    vertical-align: middle;
}

#acoes button {
    background-color: #1976d2 !important;
    color: white !important;
    border: none;
    border-radius: 4px;
    padding: 10px 18px;
    font-weight: bold;
    cursor: pointer;
}

#acoes button:hover {
    background-color: #0d47a1 !important;
}

/* O teu CSS atual */
... tudo o que j√° tens ...

/* üî• CSS para exportar PDF */
@media print {
    body * {
        visibility: hidden;
    }
    #tabelaReservas, #tabelaReservas * {
        visibility: visible;
    }
    #tabelaReservas {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
    }
}

</style>

</head>

<!-- MODAL PERSONALIZADO PARA RESERVAS DESAPARECIDAS -->
<div id="modalDesaparecidas" class="modal">
    <div class="modal-content" style="max-width: 600px;">
        <div class="modal-header" style="background: #c62828;">
            <h2>Reservas n√£o encontradas</h2>
            <button class="modal-close" onclick="fecharModalDesaparecidas()">‚úñ</button>
        </div>

        <div class="modal-body" id="listaDesaparecidas">
            <!-- Lista gerada dinamicamente -->
        </div>

        <div class="modal-footer">
            <button class="btnSecundario" onclick="fecharModalDesaparecidas()">Manter</button>
            <button class="btnPrimario" style="background:#c62828;" onclick="confirmarApagarDesaparecidas()">Apagar</button>
        </div>
    </div>
</div>
<!-- MODAL DE NOVA RESERVA -->
<div id="modalNovaReserva" class="modal">
    <div class="modal-content">

        <div class="modal-header">
            <h2>Nova Reserva</h2>
            <button class="modal-close" onclick="fecharModalNovaReserva()">‚úñ</button>
        </div>

        <div class="modal-body">

            <!-- ============================
                 SEC√á√ÉO: Identifica√ß√£o
            ============================= -->
            <div class="modal-section-title">Identifica√ß√£o</div>

            <label>Origem</label>
            <select id="origem">
                <option value="Booking">Booking</option>
                <option value="Airbnb">Airbnb</option>
                <option value="VRBO">VRBO</option>
                <option value="Expedia">Expedia</option>
                <option value="Agoda">Agoda</option>
                <option value="Hotels">Hotels.com</option>
                <option value="Trip">Trip.com</option>
                <option value="Particular">Particular</option>
            </select>

            <label>N√∫mero da Reserva (Booking)</label>
            <input type="text" id="bookingId" placeholder="S√≥ se for Booking">

            <label>Reservado Por</label>
            <input type="text" id="reservadoPor" placeholder="Nome de quem fez a reserva">

            <!-- ============================
                 SEC√á√ÉO: H√≥spede
            ============================= -->
            <div class="modal-section-title">H√≥spede</div>

            <label>Cliente</label>
            <input type="text" id="cliente">

            <label>Pa√≠s</label>
<select id="paisCliente">
    <option value="">Selecione...</option>
    <option value="pt">üáµüáπ Portugal</option>
    <option value="es">üá™üá∏ Espanha</option>
    <option value="fr">üá´üá∑ Fran√ßa</option>
    <option value="de">üá©üá™ Alemanha</option>
    <option value="be">üáßüá™ B√©lgica</option>
    <option value="nl">üá≥üá± Holanda</option>
    <option value="ch">üá®üá≠ Su√≠√ßa</option>
    <option value="at">üá¶üáπ √Åustria</option>
    <option value="it">üáÆüáπ It√°lia</option>
    <option value="gb">üá¨üáß Reino Unido</option>
    <option value="ie">üáÆüá™ Irlanda</option>
    <option value="dk">üá©üá∞ Dinamarca</option>
    <option value="se">üá∏üá™ Su√©cia</option>
    <option value="no">üá≥üá¥ Noruega</option>
    <option value="fi">üá´üáÆ Finl√¢ndia</option>
    <option value="pl">üáµüá± Pol√≥nia</option>
    <option value="cz">üá®üáø Ch√©quia</option>
    <option value="us">üá∫üá∏ Estados Unidos</option>
    <option value="ca">üá®üá¶ Canad√°</option>
    <option value="br">üáßüá∑ Brasil</option>
    <option value="ar">üá¶üá∑ Argentina</option>
    <option value="mx">üá≤üáΩ M√©xico</option>
    <option value="cl">üá®üá± Chile</option>
    <option value="co">üá®üá¥ Col√¥mbia</option>
    <option value="pe">üáµüá™ Peru</option>
    <option value="au">üá¶üá∫ Austr√°lia</option>
    <option value="nz">üá≥üáø Nova Zel√¢ndia</option>
</select>


            <label>Morada</label>
            <input type="text" id="morada">

            <label>Telefone</label>
            <input type="text" id="telefone">

            <label>Email</label>
            <input type="email" id="email">

            <label>Adultos</label>
            <input type="number" id="adultos" min="0">

            <label>Crian√ßas</label>
            <input type="number" id="criancas" min="0">

            <label>Idades das Crian√ßas</label>
            <input type="text" id="idadesCriancas" placeholder="ex: 3, 7">

            <label>H√≥spedes</label>
            <input type="number" id="hospedes" placeholder="Se vazio, sistema calcula">

            <label>Modo de Viagem</label>
            <input type="text" id="modoViagem">

            <!-- ============================
                 SEC√á√ÉO: Alojamento
            ============================= -->
            <div class="modal-section-title">Alojamento</div>

            <label>Quartos</label>
            <select id="quartos">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
            </select>

            <label>Apartamentos (ex: 2301, 2203, 2204)</label>
            <input type="text" id="apartamentos" placeholder="Deixar vazio para aloca√ß√£o autom√°tica">

            <label>Check-in</label>
            <input type="date" id="checkin">

            <label>Check-out</label>
            <input type="date" id="checkout">

            <!-- ============================
                 SEC√á√ÉO: Financeiro
            ============================= -->
            <div class="modal-section-title">Financeiro</div>

            <label>Total Bruto (‚Ç¨)</label>
            <input type="number" id="totalBruto" min="0" step="0.01">

            <label>Comiss√£o Base (‚Ç¨)</label>
            <input type="number" id="comissao" min="0" step="0.01">

            <label>Limpeza (‚Ç¨)</label>
            <input type="number" id="limpeza" min="0" step="0.01">

            <label>Valor Pago (‚Ç¨)</label>
            <input type="number" id="valorPago" min="0" step="0.01">

            <label>Status Pagamento</label>
            <select id="statusPagamento">
                <option value="aguardar">Por receber</option>
                <option value="parcial">Pago parcialmente</option>
                <option value="total">Pago totalmente</option>
            </select>

            <label>Ber√ßo</label>
            <select id="berco">
                <option value="false">N√£o</option>
                <option value="true">Sim</option>
            </select>

            <!-- ============================
                 SEC√á√ÉO: Sistema
            ============================= -->
            <div class="modal-section-title">Sistema</div>

            <label>Estado da Reserva</label>
            <select id="status">
                <option value="alocado">Alocado</option>
                <option value="pendente">Pendente</option>
                <option value="cancelado">Cancelado</option>
            </select>

            <label>Estado Pagamento Origem</label>
            <input type="text" id="estadoPagamentoOrigem">

            <label>Data Cancelamento</label>
            <input type="text" id="dataCancelamento" placeholder="S√≥ se aplic√°vel">

        </div>

        <div class="modal-footer">
            <button class="btnSecundario" onclick="fecharModalNovaReserva()">Fechar</button>
            <button class="btnPrimario" id="btnGuardar">Guardar</button>
        </div>

    </div>
</div>

<!-- MODAL DE DETALHES DA RESERVA -->
<div id="modalDetalhes" class="modal">
    <div class="modal-content">

        <div class="modal-header">
            <h2>Detalhes da Reserva</h2>
            <button class="modal-close" onclick="fecharModalDetalhes()">‚úñ</button>
        </div>

        <div class="modal-body" id="conteudoDetalhes">
            <!-- O JS vai preencher aqui -->
        </div>

       <div class="modal-footer">
    <button class="btnPrimario" id="btnEditarDetalhe">Editar</button>

    <!-- Bot√£o Guardar (inicialmente escondido) -->
    <button class="btnPrimario" id="btnGuardarDetalhe" style="display:none;">
        Guardar
    </button>

    <button class="btnApagar" id="btnApagarDetalhe">Apagar</button>
    <button class="btnSecundario" onclick="fecharModalDetalhes()">Fechar</button>
</div>



    </div>
</div>




<body>

    <!-- ========================= -->
<!--       MENU SUPERIOR       -->
<!-- ========================= -->
<div class="top-menu">
    <span class="menu-button" id="toggleMenu">‚ò∞ Menu</span>

    <div class="dropdown-menu" id="dropdown-menu">
            <a href="calendario.html">Calendario</a>
            <a href="limpeza.html">Limpeza</a>
            <a href="precos.html">Pre√ßos</a>
            <a href="financeiro.html">Financeiro</a>
            <a href="resultados.html">Resultados</a>
            <a href="login.html" class="sair">Sair</a>
        </div>
</div>

<div class="content">


    <h1>Gest√£o de Reservas</h1>

    <div id="acoes">
    <button id="btnNovaReserva">Nova Reserva</button>
    <button id="btnImportarExcel">Importar Booking</button>
    <button id="btnApagarSelecionadas">Apagar Selecionadas</button>
    <button id="btnEnviarCalendario">Enviar Calend√°rio</button>
    <button id="btnLimparFantasmas">Limpar Calend√°rio</button>

    <!-- üî• NOVO BOT√ÉO EM MASSA -->
    <button id="btnMarcarPagas" class="btn-acao-massa">
    Marcar Pagas
    </button>

    <!-- üî• EXPORTA√á√ïES -->
    <button id="btnExportExcel">Exportar Excel</button>
    <button id="btnExportPDF">Exportar PDF</button>


</div>


    <input type="file" id="inputExcel" accept=".xlsx" style="display:none">

   
<div id="filtros" class="filtros-container">

    <input type="text" id="filtroTexto" placeholder="Pesquisar..." class="filtro-input">

    <select id="filtroOrigem" class="filtro-select">
        <option value="">Origem (todas)</option>
        <option value="Booking">Booking</option>
        <option value="Manual">Manual</option>
    </select>

    <select id="filtroApartamento" class="filtro-select">
        <option value="">Apartamento (todos)</option>
        <option value="2301">2301</option>
        <option value="2203">2203</option>
        <option value="2204">2204</option>
    </select>

    <select id="filtroEstado" class="filtro-select">
        <option value="">Estado (todos)</option>
        <option value="alocado">Alocado</option>
        <option value="sem_alocacao">Sem aloca√ß√£o</option>
    </select>

    <select id="filtroPagamento" class="filtro-select">
        <option value="">Pagamento (todos)</option>
        <option value="total">Pago total</option>
        <option value="parcial">Parcial</option>
        <option value="pendente">Pendente</option>
        <option value="nao_pago">N√£o pago</option>
    </select>

    <input type="text" id="filtroPais" placeholder="Pa√≠s" class="filtro-input">

    <input type="number" id="filtroNoitesMin" placeholder="Noites min" class="filtro-num">
    <input type="number" id="filtroNoitesMax" placeholder="Noites max" class="filtro-num">

    <input type="number" id="filtroValorMin" placeholder="Valor min" class="filtro-num">
    <input type="number" id="filtroValorMax" placeholder="Valor max" class="filtro-num">

    <input type="number" id="filtroHospedesMin" placeholder="H√≥sp. min" class="filtro-num">
    <input type="number" id="filtroHospedesMax" placeholder="H√≥sp. max" class="filtro-num">

    <input type="date" id="filtroDataInicio" class="filtro-date">
    <input type="date" id="filtroDataFim" class="filtro-date">

</div>

    <div id="totais-reservas" class="totais-grid"></div>
    <!-- Totais aparecem aqui -->
</div>

   
    <table id="tabelaReservas">
    <thead id="theadReservas">
    <tr>
        <th class="no-sort">
            <input type="checkbox" id="selectAll">
        </th>
        <th data-col="origem">Origem</th>
        <th data-col="bookingId">N¬∫ Reserva</th>
        <th data-col="cliente">H√≥spede</th>
        <th data-col="quartos">Quartos</th>
        <th data-col="apartamentos">Apartamentos</th>

        <!-- üî• NOVA COLUNA PESSOAS -->
        <th data-col="pessoas">Pessoas</th>

        <th data-col="checkin">Check-in</th>
        <th data-col="checkout">Check-out</th>
        <th data-col="noites">Noites</th>
        <th data-col="totalBruto">Total Bruto (‚Ç¨)</th>
        <th data-col="comissao">Comiss√£o (‚Ç¨)</th>
        <th data-col="precoNoite">Valor/Noite (‚Ç¨)</th>
        <th data-col="berco">Ber√ßo</th>
        <th data-col="limpeza">Limpeza (‚Ç¨)</th>
        <th class="no-sort">A√ß√µes</th>
    </tr>
</thead>

        <tbody></tbody>
    </table>
    </div>

  <!-- MODAL DE NOVA RESERVA -->
<div id="modalNovaReserva" class="modal">
    <div class="modal-content">

        <!-- HEADER -->
        <div class="modal-header">
            <h2>Nova Reserva</h2>
            <button class="modal-close" onclick="fecharModalNovaReserva()">‚úñ</button>
        </div>

        <!-- BODY -->
        <div class="modal-body">

            <!-- SEC√á√ÉO: Origem -->
            <div class="modal-section-title">Origem</div>

            <label>Origem</label>
            <select id="origem">
                <option value="Booking">Booking</option>
                <option value="Airbnb">Airbnb</option>
                <option value="VRBO">VRBO</option>
                <option value="Expedia">Expedia</option>
                <option value="Agoda">Agoda</option>
                <option value="Hotels">Hotels.com</option>
                <option value="Trip">Trip.com</option>
                <option value="Particular">Particular</option>
            </select>

            <label>N√∫mero da Reserva (Booking)</label>
            <input type="text" id="bookingId" placeholder="S√≥ se for Booking">

            <!-- SEC√á√ÉO: H√≥spede -->
            <div class="modal-section-title">H√≥spede</div>

            <label>Cliente</label>
            <input type="text" id="cliente">

            <label>H√≥spedes</label>
            <input type="number" id="hospedes">

            <label>Adultos</label>
            <input type="number" id="adultos">

            <label>Crian√ßas</label>
            <input type="number" id="criancas">

            <label>Idades das Crian√ßas</label>
            <input type="text" id="idadesCriancas">

            <!-- SEC√á√ÉO: Alojamento -->
            <div class="modal-section-title">Alojamento</div>

            <label>Quartos</label>
            <select id="quartos">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
            </select>

            <label>Apartamentos (ex: 2301, 2203, 2204)</label>
            <input type="text" id="apartamentos">

            <label>Check-in</label>
            <input type="date" id="checkin">

            <label>Check-out</label>
            <input type="date" id="checkout">

            <!-- SEC√á√ÉO: Valores -->
            <div class="modal-section-title">Valores</div>

            <label>Total Bruto (‚Ç¨)</label>
            <input type="number" id="totalBruto">

            <label>Comiss√£o (‚Ç¨)</label>
            <input type="number" id="comissao">

            <label>Limpeza (‚Ç¨)</label>
            <input type="number" id="limpeza">

            <label>Ber√ßo</label>
            <select id="berco">
                <option value="false">N√£o</option>
                <option value="true">Sim</option>
            </select>

            <label for="statusPagamento">Estado do pagamento:</label>
            <select id="statusPagamento">
                <option value="aguardar">Por receber</option>
                <option value="parcial">Pago parcialmente</option>
                <option value="total">Pago totalmente</option>
            </select>

            <label for="valorPago">Valor pago (‚Ç¨):</label>
            <input type="number" id="valorPago" min="0" step="0.01">

        </div>

        <!-- FOOTER -->
<div class="modal-footer">
    <button class="btnSecundario" onclick="fecharModalNovaReserva()">Cancelar</button>
    <button class="btnPrimario" id="btnGuardar">Guardar</button>
</div>

</div>
</div>

<!-- Menu -->
<script src="js/menu.js"></script>

<!-- XLSX para importar/exportar Excel (VERS√ÉO BOA) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js?v=9999"></script>


<!-- Firebase compat v9 -->
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>

<!-- Configura√ß√£o Firebase -->
<script src="js/firebase-config.js"></script>

<!-- Prote√ß√£o da p√°gina + logout -->
<script>
firebase.auth().onAuthStateChanged(user => {
    if (!user) {
        window.location.href = "login.html";
    }
});

document.addEventListener("DOMContentLoaded", () => {
    const btnLogout = document.getElementById("btnLogout");
    if (btnLogout) {
        btnLogout.addEventListener("click", () => {
            firebase.auth().signOut().then(() => {
                window.location.href = "login.html";
            });
        });
    }
});
</script>

<!-- Configura√ß√£o de comiss√µes -->
<script src="js/configComissoes.js"></script>

<!-- O TEU JS PRINCIPAL (FUNDAMENTAL!) -->
<script src="js/reservas-listagem.js"></script>

</body>
</html>
